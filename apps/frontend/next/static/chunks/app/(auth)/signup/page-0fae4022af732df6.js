(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2271],{1326:(e,t,r)=>{"use strict";r.d(t,{C1:()=>d,G:()=>p,RF:()=>m,_L:()=>h,vc:()=>u});var a=r(731),s=r(8825),o=r(7851),l=r(5774),n=r(3385),i=r(4508),c=r(5945);let d="http://localhost:5000/api",u={DASHBOARD:"/u/dashboard",VAULTS:"/u/v",VAULTS_NEW:"/u/v/new",VAULT_DETAIL:"/u/v/:vaultId",VAULT_DETAIL_SHARED:"/u/v/shared",SHARED_WITH_ME:"/u/shared-with-me",INVITES:"/u/invites",INVITE_DETAIL:"/u/invites/:inviteId",AUDIT_LOGS:"/u/audit-logs",RECYCLE_BIN:"/u/recycle-bin",SETTINGS:"/u/settings",PROFILE:"/u/profile",LOGIN:"/login",SIGNUP:"/signup",PRICING:"/u/pricing"},m=[{title:"Dashboard",icon:a.A,href:u.DASHBOARD},{title:"Vaults",icon:s.A,href:u.VAULTS},{title:"Shared with me",icon:o.A,href:u.SHARED_WITH_ME},{title:"Invites",icon:l.A,href:u.INVITES},{title:"Recycle Bin",icon:n.A,href:u.RECYCLE_BIN},{title:"Settings",icon:i.A,href:u.SETTINGS}],h=[{title:"Upgrade",icon:c.A,href:u.PRICING}];c.A,u.PRICING,c.A,u.PRICING,c.A,u.PRICING;let p={access_to_all:{title:"Confirm Access",description1:"Are you sure you want to confirm access to all collaborators?",description2:"This will allow all collaborators to access the vault",buttonText:"Confirm"},toggle_access:{title:"Toggle Access",description1:"Are you sure you want to allow access to the collaborator?",description2:"This will allow the collaborator to access the vault",buttonText:"Confirm"},remove_collaborator:{title:"Remove Collaborator",description1:"Are you sure you want to remove the collaborator?",description2:"This will remove the collaborator from the vault",buttonText:"Confirm"}}},3084:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var a=r(9329),s=r(4338);let o=a.A.create({baseURL:s.env.BASE_URL||"http://localhost:5000/api",withCredentials:!0})},3097:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(4568),s=r(8825);function o(){return(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xl font-bold",children:[(0,a.jsx)(s.A,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{children:"DevVault"})]})}},3928:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(2987),s=r(607);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},5165:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(4568),s=r(7620),o=r(3928);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},5674:(e,t,r)=>{"use strict";r.d(t,{$5:()=>s,im:()=>o});var a=r(3084);let s=async e=>(await a.S.post("/signup",e)).data,o=async()=>(await a.S.get("/me",{withCredentials:!0})).data},6566:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var a=r(4568),s=r(7620),o=r(6141),l=r(5774),n=r(6350),i=r(7261),c=r.n(i),d=r(5674),u=r(6258),m=r(2942),h=r(8284),p=r(1326);let x=()=>{let e=(0,m.useRouter)(),{showToast:t}=(0,h.A)();return(0,u.n)({mutationFn:d.$5,onSuccess:()=>{t({type:"success",message:"Private key saved to your device. Please keep it safe. You will need it in future to login to your account otherwise you will not be able to access your account."}),e.push(p.vc.LOGIN)},onError:e=>{var r,a;t({type:"error",message:null==e||null==(a=e.response)||null==(r=a.data)?void 0:r.message})}})};var g=r(9305),f=r(5165),v=r(7227),b=r(5958),y=r(8130);let w=e=>{let{id:t,label:r,type:o,value:l,onChange:n,icon:i,placeholder:c,required:d=!1}=e,[u,m]=(0,s.useState)(!1);return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700",children:r}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:i}),(0,a.jsx)(f.p,{id:t,type:"password"===o?u?"text":"password":o,required:d,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 text-gray-900",placeholder:c,value:l,onChange:n}),"password"===o&&(0,a.jsx)(v.$,{variant:"ghost",size:"icon",onClick:()=>m(!u),className:"absolute right-0 top-0 h-full px-2 hover:bg-transparent",children:u?(0,a.jsx)(b.A,{className:"w-4 h-4 text-gray-500"}):(0,a.jsx)(y.A,{className:"w-4 h-4 text-gray-500"})})]})]})};var A=r(9369);let N=e=>{let{isPending:t,text:r,onClick:s}=e;return(0,a.jsxs)("button",{disabled:t,onClick:s,type:"submit",className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ".concat(t?"opacity-50 cursor-not-allowed":""),children:[t?(0,a.jsx)(A.A,{className:"w-5 h-5 mr-2 animate-spin"}):(0,a.jsx)(o.A,{className:"w-5 h-5 mr-2"}),r]})};var j=r(3097);let I=e=>{let{title:t,description:r,children:o}=e;return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:(0,a.jsxs)("div",{className:"h-screen bg-gradient-to-br from-pink-100 to-purple-500 flex flex-col justify-center sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,a.jsx)("div",{className:"flex justify-center text-black",children:(0,a.jsx)(j.A,{})}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:t}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:r})]}),(0,a.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsx)("div",{className:"bg-white py-8 px-4 shadow-xl rounded-2xl sm:px-10",children:o})})]})})},E=()=>{let[e,t]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),{mutate:f,isPending:v}=x(),{showToast:b}=(0,h.A)(),y=async t=>{if(t.preventDefault(),r!==d)return void b({type:"error",message:"Passwords did  not match"});f({email:e,password:r,publicKey:await (0,g.Zd)(),name:m})};return(0,a.jsxs)(I,{title:"Create your KeyVault account",description:"Start securing your development secrets today \uD83D\uDE80",children:[(0,a.jsxs)("form",{className:"space-y-5",onSubmit:y,children:[(0,a.jsx)(w,{id:"name",label:"Full Name",type:"text",value:m,onChange:e=>p(e.target.value),icon:(0,a.jsx)(o.A,{}),placeholder:"John Doe",required:!0}),(0,a.jsx)(w,{id:"email",label:"Email address",type:"email",value:e,onChange:e=>t(e.target.value),icon:(0,a.jsx)(l.A,{}),placeholder:"you@domain.com",required:!0}),(0,a.jsx)(w,{id:"password",label:"Password",type:"password",value:r,onChange:e=>i(e.target.value),icon:(0,a.jsx)(n.A,{}),placeholder:"••••••••",required:!0}),(0,a.jsx)(w,{id:"confirmPassword",label:"Confirm Password",type:"password",value:d,onChange:e=>u(e.target.value),icon:(0,a.jsx)(n.A,{}),placeholder:"••••••••",required:!0}),(0,a.jsx)(N,{isPending:v,text:v?"Signing up...":"Create account",onClick:y})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,a.jsx)(c(),{href:"/login",className:"font-medium text-primary hover:underline",children:"Sign in"})]})]})}},7227:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>i});var a=r(4568),s=r(7620),o=r(9649),l=r(615),n=r(3928);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:c=!1,...d}=e,u=c?o.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(i({variant:s,size:l,className:r})),ref:t,...d})});c.displayName="Button"},8284:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(138);r(7987);let s=()=>({showToast:e=>{let{type:t,message:r}=e,s={position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};switch(t){case"success":s={...s,className:"bg-green-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},a.oR.success(r,s);break;case"error":s={...s,className:"bg-red-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},a.oR.error(r,s);break;case"info":s={...s,className:"bg-blue-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},a.oR.info(r,s);break;default:s={...s,className:"bg-gray-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},(0,a.oR)(r,s)}}})},8874:(e,t,r)=>{Promise.resolve().then(r.bind(r,6566))},9305:(e,t,r)=>{"use strict";r.d(t,{Tn:()=>s,Tu:()=>o,Zd:()=>a,lG:()=>l});let a=async()=>{let e=await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),t=await crypto.subtle.exportKey("spki",e.publicKey),r=await crypto.subtle.exportKey("pkcs8",e.privateKey),a=btoa(String.fromCharCode(...new Uint8Array(t))),s=btoa(String.fromCharCode(...new Uint8Array(r)));localStorage.setItem("PRIVATE_KEY",s);let o=new Blob([s],{type:"text/plain"}),l=document.createElement("a");return l.href=URL.createObjectURL(o),l.download="vault-private-key.txt",document.body.appendChild(l),l.click(),document.body.removeChild(l),a},s=()=>localStorage.getItem("PRIVATE_KEY"),o=async e=>{try{let t=e.replace("-----BEGIN PRIVATE KEY-----","").replace("-----END PRIVATE KEY-----","").replace(/\s/g,""),r=Uint8Array.from(atob(t),e=>e.charCodeAt(0));return await window.crypto.subtle.importKey("pkcs8",r.buffer,{name:"RSA-OAEP",hash:"SHA-256"},!1,["decrypt"]),!0}catch(e){return console.error("Invalid private key:",e),!1}},l=()=>{let e=localStorage.getItem("PUBLIC_KEY");if(!e)throw Error("Public key not found");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[3038,8745,9329,138,3644,7704,7583,587,8315,7358],()=>t(8874)),_N_E=e.O()}]);