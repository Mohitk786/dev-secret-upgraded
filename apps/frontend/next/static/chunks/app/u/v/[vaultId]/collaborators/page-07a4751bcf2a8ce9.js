(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6379],{276:(e,t,r)=>{"use strict";r.d(t,{Af:()=>o,B3:()=>n,Px:()=>l,YT:()=>c,iF:()=>s});var a=r(3084);let s=async()=>{var e;return null==(e=(await a.S.get("/vaults/all")).data)?void 0:e.vaults},l=async e=>{var t;return null==(t=(await a.S.get("/vaults/".concat(e))).data)?void 0:t.vault},n=async e=>(await a.S.post("/vaults/create",e)).data,c=async e=>{let{vaultId:t,data:r}=e;return(await a.S.put("/vaults/".concat(t),r)).data},o=async e=>{try{var t;return null==(t=(await a.S.get("/vaults/".concat(e,"/vault-key"))).data)?void 0:t.vaultKey}catch(e){return null}}},1025:(e,t,r)=>{"use strict";r.d(t,{Gy:()=>c,Vn:()=>o,pE:()=>i,si:()=>n});var a=r(1416),s=r(5753),l=r(276);let n=(e,t)=>{let{data:r,isLoading:l,error:n,refetch:c}=(0,a.I)({queryKey:["invites",e,t],queryFn:()=>(0,s.Bf)(e,t)});return{data:r,isLoading:l,error:n,refetch:c}},c=()=>{let{data:e,isLoading:t,error:r,refetch:l}=(0,a.I)({queryKey:["shared-vaults"],queryFn:s.B_});return{data:e,isLoading:t,error:r,refetch:l}},o=e=>(0,a.I)({queryKey:["vault-collaborators",e],queryFn:()=>(0,s.it)(e),enabled:!!e}),i=e=>(0,a.I)({queryKey:["vault-key",e],queryFn:()=>(0,l.Af)(e),enabled:!!e})},1217:(e,t,r)=>{"use strict";r.d(t,{MG:()=>n,XT:()=>c,rn:()=>l});var a=r(276),s=r(2905);let l=async()=>await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),n=async(e,t)=>{let r=await (0,a.Af)(t),l=await (0,s.v)(r);if(!l)throw Error("Vault key not found");let n=JSON.stringify(e),c=crypto.getRandomValues(new Uint8Array(12)),o=new TextEncoder().encode(n),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:c},l,o),d=new Uint8Array(c.byteLength+i.byteLength);return d.set(c,0),d.set(new Uint8Array(i),c.byteLength),btoa(String.fromCharCode(...d))},c=async(e,t)=>{let r=await crypto.subtle.exportKey("raw",t),a=Uint8Array.from(atob(e),e=>e.charCodeAt(0)).buffer,s=await crypto.subtle.importKey("spki",a,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]);return btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.encrypt({name:"RSA-OAEP"},s,r))))}},2055:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8889).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2602:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(7620);let s=(0,r(1405).io)("ws://localhost:8000",{transports:["websocket"],withCredentials:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),l={socket:s,connect:()=>{s.connect()}},n=null,c=()=>{let e=(0,a.useRef)(null);return n||(l.connect(),n=l.socket),e.current=n,(0,a.useEffect)(()=>((null==n?void 0:n.connected)||l.connect(),()=>{}),[]),e.current}},2798:(e,t,r)=>{Promise.resolve().then(r.bind(r,3838))},2879:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8889).A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},2905:(e,t,r)=>{"use strict";r.d(t,{a:()=>l,v:()=>s});var a=r(9305);let s=async e=>{let t=await (0,a.Tn)();if(!t)throw Error("Private key missing!");let r=Uint8Array.from(atob(e),e=>e.charCodeAt(0)),s=Uint8Array.from(atob(t),e=>e.charCodeAt(0)).buffer,l=await crypto.subtle.importKey("pkcs8",s,{name:"RSA-OAEP",hash:"SHA-256"},!0,["decrypt"]),n=await crypto.subtle.decrypt({name:"RSA-OAEP"},l,r);return await crypto.subtle.importKey("raw",n,{name:"AES-GCM"},!0,["encrypt","decrypt"])},l=async(e,t)=>{let r=e.encryptedSecret,a=Uint8Array.from(atob(r),e=>e.charCodeAt(0)),s=a.slice(0,12),l=a.slice(12),n=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},t,l);return{...JSON.parse(new TextDecoder().decode(n)),id:e.id,vaultId:e.vaultId}}},3353:(e,t,r)=>{"use strict";r.d(t,{BT:()=>i,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>c,wL:()=>u});var a=r(4568),s=r(7620),l=r(3928);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});n.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});i.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},3838:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var a=r(4568),s=r(7620),l=r(7261),n=r.n(l),c=r(2942),o=r(7214),i=r(7227),d=r(3353),u=r(9609),m=r(7876),y=r(4148),v=r(8284),x=r(6141),h=r(8825),p=r(2055),f=r(3872),b=r(9877),g=r(8262),j=r(4529),w=r(2879),A=r(8889);let N=(0,A.A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),k=(0,A.A)("shield-x",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);var C=r(1025),S=r(8043),E=r(1326),I=r(276),_=r(1217),R=r(2905);let M=async(e,t)=>{let r=await (0,I.Af)(e),a=await (0,R.v)(r);return await Promise.all(t.map(async t=>{var r;let s=await (0,_.XT)(null==(r=t.user)?void 0:r.publicKey,a);return{userId:t.userId,encryptedKey:s,vaultId:e}}))};var T=r(5954),q=r(2602),K=r(8775),F=r(7606),H=r(6258),V=r(1773),U=r(3084);let L=()=>{let{vaultId:e}=(0,c.useParams)(),t=(0,q.A)(),r=(0,F.jE)(),[l,A]=(0,s.useState)(!1),[I,_]=(0,s.useState)({title:"",description1:"",description2:"",buttonText:"",onConfirm:()=>{},collaborator:null}),{data:R}=(0,o._)(e),{data:L,isLoading:P}=(0,C.Vn)(e),[D,O]=(0,s.useState)([]),{user:B}=(0,K.h)(),{mutate:G,isPending:Q}=(0,S.mr)(),[z,$]=(0,s.useState)([]),W=(0,c.useRouter)(),{showToast:X}=(0,v.A)();(0,s.useEffect)(()=>{L&&O(L)},[L]);let Y=(0,H.n)({mutationFn:async t=>{let{memberId:r,permissions:a}=t;return U.S.patch("/collab/vault-collaborators/".concat(e,"/").concat(r),a)},onSuccess:()=>{r.invalidateQueries({queryKey:["vault-collaborators",e]}),X({type:"success",message:"Permissions updated"})},onError:e=>{var t,r;X({type:"error",message:(null==e||null==(r=e.response)||null==(t=r.data)?void 0:t.message)||"Error updating permissions"})}}),Z=r=>{t.emit("remove-collaborator",{collaboratorId:r.user.id,vaultId:e})},J=(e,t)=>{if("canView"===t)return void X({type:"info",message:"Revoke client to access the vault"});let r={[t]:!e[t]};Y.mutate({memberId:null==e?void 0:e.id,permissions:r})},ee=async()=>{let t=await M(null==R?void 0:R.id,L);await G({finalData:t,vaultId:e})},et=async a=>{t.emit("join-vault",e),t.emit("toggle-access",{collaboratorId:a.user.id,vaultId:e}),r.invalidateQueries({queryKey:["vault-collaborators",e]})},er=async(e,t)=>{A(!0),"access_to_all"===e&&_({...E.G.access_to_all,onConfirm:ee}),"toggle_access"===e&&_({...E.G.toggle_access,onConfirm:et,collaborator:t}),"remove_collaborator"===e&&_({...E.G.remove_collaborator,onConfirm:Z,collaborator:t}),A(!0)};return(0,s.useEffect)(()=>{t.emit("join-vault",e),t.emit("get-online-users",e);let r=e=>{$(e.onlineUsers)},a=e=>{(null==R?void 0:R.ownerId)===(null==B?void 0:B.id)&&(X({type:"success",message:e.message}),O(D.filter(t=>t.userId!==e.collaboratorId))),(null==B?void 0:B.id)===e.collaboratorId&&(X({type:"info",message:"You have been removed from this vault."}),W.push(E.vc.SHARED_WITH_ME))};return t.on("collaborator-removed",a),t.on("online-users",r),()=>{t.off("collaborator-removed",a),t.off("online-users",r)}},[e]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Vault Collaborators"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:R?'Manage who has access to "'.concat(R.name,'"'):"Manage who has access to this vault"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n(),{href:"".concat(E.vc.VAULTS,"/").concat(e,"/invite"),children:(0,a.jsxs)(i.$,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"Invite Member"]})}),(0,a.jsxs)(i.$,{className:"flex items-center gap-2 bg-green-400 hover:bg-green-600 text-black",onClick:()=>er("access_to_all"),disabled:Q,children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),"Confirm Access"]})]})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-primary"}),"Collaborators"]}),(0,a.jsx)(d.BT,{children:"People with access to this vault"})]}),(0,a.jsx)(d.Wu,{children:P?(0,a.jsx)("div",{className:"p-8 text-center",children:(0,a.jsx)("p",{children:"Loading collaborators..."})}):0===D.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"No collaborators yet"}),(0,a.jsx)(n(),{href:"".concat(E.vc.VAULTS,"/").concat(e,"/invite"),children:(0,a.jsxs)(i.$,{variant:"outline",className:"mt-4",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Invite Collaborators"]})})]}):(0,a.jsxs)(u.XI,{children:[(0,a.jsx)(u.A0,{children:(0,a.jsxs)(u.Hj,{children:[(0,a.jsx)(u.nd,{children:"Member"}),(0,a.jsx)(u.nd,{children:"Permissions"}),(null==R?void 0:R.ownerId)===(null==B?void 0:B.id)&&(0,a.jsx)(u.nd,{children:"Actions"})]})}),(0,a.jsx)(u.BF,{children:D&&D.map(e=>{var t,r,s,l,n,c,o,d,v,x,p,A;return(0,a.jsxs)(u.Hj,{children:[(0,a.jsx)(u.nA,{className:"font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(null==e||null==(t=e.user)?void 0:t.avatarUrl)?(0,a.jsx)(V.default,{src:null==e||null==(r=e.user)?void 0:r.avatarUrl,alt:(null==e||null==(s=e.user)?void 0:s.name)||(null==e||null==(l=e.user)?void 0:l.email),className:"w-8 h-8 rounded-full"}):(0,a.jsx)("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:(null==e||null==(c=e.user)||null==(n=c.name)?void 0:n.charAt(0))||(null==e||null==(o=e.user)?void 0:o.email.charAt(0))}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"flex items-center gap-2",children:[(null==e||null==(d=e.user)?void 0:d.name)||(null==e||null==(v=e.user)?void 0:v.email)," ",z&&z.includes(null==e||null==(x=e.user)?void 0:x.id)&&(0,a.jsx)("span",{className:"text-green-500 text-xs",children:"Online"})]}),(null==e||null==(p=e.user)?void 0:p.name)&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:null==e||null==(A=e.user)?void 0:A.email})]})]})}),(0,a.jsx)(u.nA,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(y.E,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20 cursor-not-allowed",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 mr-1"})," View"]}),(0,a.jsxs)(y.E,{variant:(null==e?void 0:e.canEdit)?"outline":"secondary",className:(null==e?void 0:e.canEdit)?"bg-green-500/10 text-green-500 border-green-500/20 cursor-pointer":"cursor-pointer",onClick:()=>J(e,"canEdit"),children:[(0,a.jsx)(b.A,{className:"h-3 w-3 mr-1"})," Edit"]}),(0,a.jsxs)(y.E,{variant:(null==e?void 0:e.canDelete)?"outline":"secondary",className:(null==e?void 0:e.canDelete)?"bg-red-500/10 text-red-500 border-red-500/20 cursor-pointer":"cursor-pointer",onClick:()=>J(e,"canDelete"),children:[(0,a.jsx)(g.A,{className:"h-3 w-3 mr-1"})," Delete"]}),(0,a.jsxs)(y.E,{variant:(null==e?void 0:e.canAdd)?"outline":"secondary",className:(null==e?void 0:e.canAdd)?"bg-blue-500/10 text-blue-500 border-blue-500/20 cursor-pointer":"cursor-pointer",onClick:()=>J(e,"canAdd"),children:[(0,a.jsx)(j.A,{className:"h-3 w-3 mr-1"})," Add"]})]})}),(null==R?void 0:R.ownerId)===(null==B?void 0:B.id)&&(0,a.jsx)(u.nA,{children:(0,a.jsxs)(m.rI,{children:[(0,a.jsx)(m.ty,{asChild:!0,children:(0,a.jsx)(i.$,{variant:"ghost",size:"icon",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(m.SQ,{align:"end",children:[(0,a.jsxs)(m._2,{className:"text-destructive focus:bg-destructive/10 focus:text-destructive cursor-pointer",onClick:()=>er("remove_collaborator",e),children:[(0,a.jsx)(N,{className:"h-4 w-4 mr-2"}),"Remove Member"]}),(0,a.jsxs)(m._2,{className:"".concat((null==e?void 0:e.hasSecretAccess)?"text-red-600 cursor-pointer":"text-green-600 cursor-pointer"),onClick:()=>er("toggle_access",e),children:[(null==e?void 0:e.hasSecretAccess)?(0,a.jsx)(k,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),(null==e?void 0:e.hasSecretAccess)?"Revoke Access":"Allow Access"]})]})]})})]},null==e?void 0:e.id)})})]})})]}),(0,a.jsx)(T.A,{open:l,onOpenChange:A,modalData:I})]})})}},3872:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8889).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},4148:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var a=r(4568);r(7620);var s=r(615),l=r(3928);let n=(0,s.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:r}),t),...s})}},4529:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8889).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5753:(e,t,r)=>{"use strict";r.d(t,{B_:()=>d,Bf:()=>o,I_:()=>c,Ql:()=>l,it:()=>i,kw:()=>s,lY:()=>u,vO:()=>n});var a=r(3084);let s=async e=>(await a.S.post("/collab/invite",e)).data,l=async e=>(await a.S.post("/collab/accept-invite/".concat(e))).data,n=async e=>(await a.S.post("/collab/reject-invite/".concat(e))).data,c=async e=>{var t;return null==(t=(await a.S.get("/collab/invite/".concat(e))).data)?void 0:t.invite},o=async(e,t)=>{var r;return null==(r=(await a.S.get("/invites?type=".concat(e||"sent","&status=").concat(t||"ALL"))).data)?void 0:r.invites},i=async e=>{var t;return null==(t=(await a.S.get("/collab/vault-collaborators/".concat(e))).data)?void 0:t.collaborators},d=async()=>{var e;return null==(e=(await a.S.get("/collab/shared-with-me")).data)?void 0:e.vaults},u=async e=>(await a.S.post("/collab/confirm-access/".concat(e.vaultId),{encryptedVaultKeys:e.finalData})).data},5954:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(4568),s=r(8359),l=r(7227);let n=e=>{let{open:t,onOpenChange:r,modalData:n}=e;return(0,a.jsx)(s.lG,{open:t,onOpenChange:r,children:(0,a.jsxs)(s.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(s.c7,{children:[(0,a.jsx)(s.L3,{className:"flex items-center gap-2 text-xl",children:(0,a.jsx)("span",{children:n.title})}),(0,a.jsx)(s.rr,{children:n.description1})]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:n.description2})}),(0,a.jsxs)(s.Es,{children:[(0,a.jsx)(l.$,{onClick:()=>r(!1),children:"Cancel"}),(0,a.jsx)(l.$,{className:"".concat("Logout"===n.buttonText?"bg-destructive":""),onClick:()=>(null==n||n.onConfirm(null==n?void 0:n.collaborator),r(!1)),children:n.buttonText})]})]})})}},6141:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8889).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},7214:(e,t,r)=>{"use strict";r.d(t,{N:()=>n,_:()=>c});var a=r(1416),s=r(276),l=r(5431);let n=()=>(0,a.I)({queryKey:[l.e.VAULTS],queryFn:s.iF}),c=e=>(0,a.I)({queryKey:l.e.VAULT(e),queryFn:()=>(0,s.Px)(e),enabled:!!e})},8043:(e,t,r)=>{"use strict";r.d(t,{R_:()=>u,kM:()=>m,mr:()=>d,uo:()=>i});var a=r(6258),s=r(7606),l=r(5753),n=r(8284),c=r(1326),o=r(2942);let i=()=>(0,a.n)({mutationFn:e=>(0,l.kw)(e)}),d=()=>{let{showToast:e}=(0,n.A)();return(0,a.n)({mutationFn:e=>(0,l.lY)(e),onSuccess:()=>{e({type:"success",message:"Access confirmed"})},onError:()=>{e({type:"error",message:"Error confirming access"})}})},u=()=>{let{showToast:e}=(0,n.A)(),t=(0,s.jE)(),r=(0,o.useRouter)();return(0,a.n)({mutationFn:e=>(0,l.Ql)(e),onSuccess:()=>{t.invalidateQueries({queryKey:["invites"]}),t.invalidateQueries({queryKey:["shared-vaults"]})},onError:t=>{var a,s;e({type:"error",message:(null==t||null==(s=t.response)||null==(a=s.data)?void 0:a.message)||"Error accepting invite"}),r.push(c.vc.SHARED_WITH_ME)}})},m=()=>{let{showToast:e}=(0,n.A)(),t=(0,s.jE)(),r=(0,o.useRouter)();return(0,a.n)({mutationFn:e=>(0,l.vO)(e),onSuccess:()=>{t.invalidateQueries({queryKey:["invites"]}),e({type:"success",message:"Invite rejected"})},onError:()=>{e({type:"error",message:"Error rejecting invite"}),r.push(c.vc.SHARED_WITH_ME)}})}},8262:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8889).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9609:(e,t,r)=>{"use strict";r.d(t,{A0:()=>c,BF:()=>o,Hj:()=>i,XI:()=>n,nA:()=>u,nd:()=>d});var a=r(4568),s=r(7620),l=r(3928);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...s})})});n.displayName="Table";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...s})});c.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});i.displayName="TableRow";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});d.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},9877:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(8889).A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[3038,8745,9329,8903,1416,138,3644,7704,7356,1405,6412,1773,4277,587,8315,7358],()=>t(2798)),_N_E=e.O()}]);