(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1351],{264:(e,t,a)=>{"use strict";a.d(t,{w:()=>l});var s=a(4568),r=a(7620),n=a(7297),i=a(3928);let l=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:l=!0,...o}=e;return(0,s.jsx)(n.b,{ref:t,decorative:l,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...o})});l.displayName=n.b.displayName},276:(e,t,a)=>{"use strict";a.d(t,{Af:()=>o,B3:()=>i,Px:()=>n,YT:()=>l,iF:()=>r});var s=a(3084);let r=async()=>{var e;return null==(e=(await s.S.get("/vaults/all")).data)?void 0:e.vaults},n=async e=>{var t;return null==(t=(await s.S.get("/vaults/".concat(e))).data)?void 0:t.vault},i=async e=>(await s.S.post("/vaults/create",e)).data,l=async e=>{let{vaultId:t,data:a}=e;return(await s.S.put("/vaults/".concat(t),a)).data},o=async e=>{try{var t;return null==(t=(await s.S.get("/vaults/".concat(e,"/vault-key"))).data)?void 0:t.vaultKey}catch(e){return null}}},1326:(e,t,a)=>{"use strict";a.d(t,{C1:()=>d,G:()=>h,RF:()=>m,_L:()=>v,vc:()=>u});var s=a(731),r=a(8825),n=a(7851),i=a(5774),l=a(3385),o=a(4508),c=a(5945);let d="http://localhost:5000/api",u={DASHBOARD:"/u/dashboard",VAULTS:"/u/v",VAULTS_NEW:"/u/v/new",VAULT_DETAIL:"/u/v/:vaultId",VAULT_DETAIL_SHARED:"/u/v/shared",SHARED_WITH_ME:"/u/shared-with-me",INVITES:"/u/invites",INVITE_DETAIL:"/u/invites/:inviteId",AUDIT_LOGS:"/u/audit-logs",RECYCLE_BIN:"/u/recycle-bin",SETTINGS:"/u/settings",PROFILE:"/u/profile",LOGIN:"/login",SIGNUP:"/signup",PRICING:"/u/pricing"},m=[{title:"Dashboard",icon:s.A,href:u.DASHBOARD},{title:"Vaults",icon:r.A,href:u.VAULTS},{title:"Shared with me",icon:n.A,href:u.SHARED_WITH_ME},{title:"Invites",icon:i.A,href:u.INVITES},{title:"Recycle Bin",icon:l.A,href:u.RECYCLE_BIN},{title:"Settings",icon:o.A,href:u.SETTINGS}],v=[{title:"Upgrade",icon:c.A,href:u.PRICING}];c.A,u.PRICING,c.A,u.PRICING,c.A,u.PRICING;let h={access_to_all:{title:"Confirm Access",description1:"Are you sure you want to confirm access to all collaborators?",description2:"This will allow all collaborators to access the vault",buttonText:"Confirm"},toggle_access:{title:"Toggle Access",description1:"Are you sure you want to allow access to the collaborator?",description2:"This will allow the collaborator to access the vault",buttonText:"Confirm"},remove_collaborator:{title:"Remove Collaborator",description1:"Are you sure you want to remove the collaborator?",description2:"This will remove the collaborator from the vault",buttonText:"Confirm"}}},2555:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var s=a(4568),r=a(7620),n=a(6559),i=a(615),l=a(3928);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.b,{ref:t,className:(0,l.cn)(o(),a),...r})});c.displayName=n.b.displayName},3084:(e,t,a)=>{"use strict";a.d(t,{S:()=>n});var s=a(9329),r=a(4338);let n=s.A.create({baseURL:r.env.BASE_URL||"http://localhost:5000/api",withCredentials:!0})},3353:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>i,aR:()=>l,wL:()=>u});var s=a(4568),r=a(7620),n=a(3928);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},3904:(e,t,a)=>{Promise.resolve().then(a.bind(a,6607))},3928:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(2987),r=a(607);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},4595:(e,t,a)=>{"use strict";a.d(t,{d:()=>l});var s=a(4568),r=a(7620),n=a(5145),i=a(3928);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(n.zi,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.bL.displayName},5165:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(4568),r=a(7620),n=a(3928);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},5431:(e,t,a)=>{"use strict";a.d(t,{e:()=>s});let s={VAULTS:"vaults",VAULT:e=>["vault",e],USER:"user",SECRETS:"secrets",SECRET:e=>["secret",e],VAULT_SECRETS:"vault_secrets"}},5753:(e,t,a)=>{"use strict";a.d(t,{B_:()=>d,Bf:()=>o,I_:()=>l,Ql:()=>n,it:()=>c,kw:()=>r,lY:()=>u,vO:()=>i});var s=a(3084);let r=async e=>(await s.S.post("/collab/invite",e)).data,n=async e=>(await s.S.post("/collab/accept-invite/".concat(e))).data,i=async e=>(await s.S.post("/collab/reject-invite/".concat(e))).data,l=async e=>{var t;return null==(t=(await s.S.get("/collab/invite/".concat(e))).data)?void 0:t.invite},o=async(e,t)=>{var a;return null==(a=(await s.S.get("/invites?type=".concat(e||"sent","&status=").concat(t||"ALL"))).data)?void 0:a.invites},c=async e=>{var t;return null==(t=(await s.S.get("/collab/vault-collaborators/".concat(e))).data)?void 0:t.collaborators},d=async()=>{var e;return null==(e=(await s.S.get("/collab/shared-with-me")).data)?void 0:e.vaults},u=async e=>(await s.S.post("/collab/confirm-access/".concat(e.vaultId),{encryptedVaultKeys:e.finalData})).data},6607:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(4568),r=a(7620),n=a(8043),i=a(2942),l=a(7214),o=a(5165),c=a(7227),d=a(3353),u=a(2555),m=a(4595),v=a(8284),h=a(6141),f=a(8825),p=a(9877),g=a(8262),x=a(4529),b=a(264);let y=()=>{let e=(0,i.useParams)().vaultId,{showToast:t}=(0,v.A)(),[a,y]=(0,r.useState)(""),[w,N]=(0,r.useState)({canView:!0,canEdit:!1,canDelete:!1,canAdd:!1}),{mutate:j,isPending:A}=(0,n.uo)(),{data:S,isLoading:E}=(0,l._)(e);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Invite Collaborators"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:!E&&S?'Share "'.concat(S.name,'" with your team'):"Share your vault with your team"})]}),(0,s.jsxs)(d.Zp,{children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-primary"}),"Send Invitation"]}),(0,s.jsx)(d.BT,{children:"Invite someone to collaborate on this vault"})]}),(0,s.jsxs)(d.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u.J,{htmlFor:"email",children:"Email Address"}),(0,s.jsx)(o.p,{id:"email",type:"email",placeholder:"colleague@example.com",value:a,onChange:e=>y(e.target.value),className:"mt-1.5"})]}),(0,s.jsx)(b.w,{className:"my-4"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-medium",children:"Permissions"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"h-4 w-4 text-blue-500"}),(0,s.jsx)(u.J,{htmlFor:"view-permission",className:"font-normal",children:"Can view secrets"})]}),(0,s.jsx)(m.d,{id:"view-permission",checked:w.canView,onCheckedChange:e=>N({...w,canView:e}),disabled:!0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)(u.J,{htmlFor:"edit-permission",className:"font-normal",children:"Can edit secrets"})]}),(0,s.jsx)(m.d,{id:"edit-permission",checked:w.canEdit,onCheckedChange:e=>N({...w,canEdit:e})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"h-4 w-4 text-red-500"}),(0,s.jsx)(u.J,{htmlFor:"delete-permission",className:"font-normal",children:"Can delete secrets"})]}),(0,s.jsx)(m.d,{id:"delete-permission",checked:w.canDelete,onCheckedChange:e=>N({...w,canDelete:e})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)(u.J,{htmlFor:"add-permission",className:"font-normal",children:"Can Add secrets"})]}),(0,s.jsx)(m.d,{id:"add-permission",checked:w.canAdd,onCheckedChange:e=>N({...w,canAdd:e})})]})]})]})]}),(0,s.jsx)(d.wL,{className:"flex justify-end",children:(0,s.jsxs)(c.$,{onClick:()=>{if(!a||!a.includes("@"))return void t({type:"error",message:"Please enter a valid email address"});j({email:a,vaultId:e,...w},{onSuccess:()=>{t({type:"success",message:"An invitation has been sent to ".concat(a)}),y("")},onError:e=>{var a,s;t({type:"error",message:(null==(s=e.response)||null==(a=s.data)?void 0:a.message)||"Failed to send invitation"})}})},disabled:A||!a,className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),A?"Sending...":"Send Invitation"]})})]})]})}},7214:(e,t,a)=>{"use strict";a.d(t,{N:()=>i,_:()=>l});var s=a(1416),r=a(276),n=a(5431);let i=()=>(0,s.I)({queryKey:[n.e.VAULTS],queryFn:r.iF}),l=e=>(0,s.I)({queryKey:n.e.VAULT(e),queryFn:()=>(0,r.Px)(e),enabled:!!e})},7227:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>o});var s=a(4568),r=a(7620),n=a(9649),i=a(615),l=a(3928);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:r,size:i,className:a})),ref:t,...d})});c.displayName="Button"},8043:(e,t,a)=>{"use strict";a.d(t,{R_:()=>u,kM:()=>m,mr:()=>d,uo:()=>c});var s=a(6258),r=a(7606),n=a(5753),i=a(8284),l=a(1326),o=a(2942);let c=()=>(0,s.n)({mutationFn:e=>(0,n.kw)(e)}),d=()=>{let{showToast:e}=(0,i.A)();return(0,s.n)({mutationFn:e=>(0,n.lY)(e),onSuccess:()=>{e({type:"success",message:"Access confirmed"})},onError:()=>{e({type:"error",message:"Error confirming access"})}})},u=()=>{let{showToast:e}=(0,i.A)(),t=(0,r.jE)(),a=(0,o.useRouter)();return(0,s.n)({mutationFn:e=>(0,n.Ql)(e),onSuccess:()=>{t.invalidateQueries({queryKey:["invites"]}),t.invalidateQueries({queryKey:["shared-vaults"]})},onError:t=>{var s,r;e({type:"error",message:(null==t||null==(r=t.response)||null==(s=r.data)?void 0:s.message)||"Error accepting invite"}),a.push(l.vc.SHARED_WITH_ME)}})},m=()=>{let{showToast:e}=(0,i.A)(),t=(0,r.jE)(),a=(0,o.useRouter)();return(0,s.n)({mutationFn:e=>(0,n.vO)(e),onSuccess:()=>{t.invalidateQueries({queryKey:["invites"]}),e({type:"success",message:"Invite rejected"})},onError:()=>{e({type:"error",message:"Error rejecting invite"}),a.push(l.vc.SHARED_WITH_ME)}})}},8284:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(138);a(7987);let r=()=>({showToast:e=>{let{type:t,message:a}=e,r={position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};switch(t){case"success":r={...r,className:"bg-green-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},s.oR.success(a,r);break;case"error":r={...r,className:"bg-red-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},s.oR.error(a,r);break;case"info":r={...r,className:"bg-blue-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},s.oR.info(a,r);break;default:r={...r,className:"bg-gray-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},(0,s.oR)(a,r)}}})}},e=>{var t=t=>e(e.s=t);e.O(0,[3038,8745,9329,8903,1416,138,3644,9719,587,8315,7358],()=>t(3904)),_N_E=e.O()}]);