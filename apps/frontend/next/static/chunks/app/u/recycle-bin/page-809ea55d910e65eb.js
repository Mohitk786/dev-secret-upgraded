(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{482:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,q:()=>n});var s=r(7620),a=r(4568);function n(e,t){let r=s.createContext(t),n=e=>{let{children:t,...n}=e,l=s.useMemo(()=>n,Object.values(n));return(0,a.jsx)(r.Provider,{value:l,children:t})};return n.displayName=e+"Provider",[n,function(a){let n=s.useContext(r);if(n)return n;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}function l(e,t=[]){let r=[],n=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return n.scopeName=e,[function(t,n){let l=s.createContext(n),d=r.length;r=[...r,n];let i=t=>{let{scope:r,children:n,...i}=t,o=r?.[e]?.[d]||l,c=s.useMemo(()=>i,Object.values(i));return(0,a.jsx)(o.Provider,{value:c,children:n})};return i.displayName=t+"Provider",[i,function(r,a){let i=a?.[e]?.[d]||l,o=s.useContext(i);if(o)return o;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(n,...t)]}},603:(e,t,r)=>{"use strict";r.d(t,{Xi:()=>o,av:()=>c,j7:()=>i,tU:()=>d});var s=r(4568),a=r(7620),n=r(112),l=r(3928);let d=n.bL,i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.B8,{ref:t,className:(0,l.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...a})});i.displayName=n.B8.displayName;let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...a})});o.displayName=n.l9.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});c.displayName=n.UC.displayName},728:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var s,a=r(7620),n=r(7247),l=(s||(s=r.t(a,2)))[" useId ".trim().toString()]||(()=>void 0),d=0;function i(e){let[t,r]=a.useState(l());return(0,n.N)(()=>{e||r(e=>e??String(d++))},[e]),e||(t?`radix-${t}`:"")}},2965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s=r(4568),a=r(1416),n=r(3353),l=r(603),d=r(3084);let i=async()=>{var e;return null==(e=(await d.S.get("/trash/vaults")).data)?void 0:e.vaults},o=async()=>{var e;return null==(e=(await d.S.get("/trash/secrets")).data)?void 0:e.secrets},c=async e=>(await d.S.post("/trash/vaults/".concat(e,"/restore"))).data,u=async e=>(await d.S.post("/trash/secrets/".concat(e,"/restore"))).data,f=async e=>(await d.S.delete("/trash/vaults/".concat(e))).data,m=async e=>(await d.S.delete("/trash/secrets/".concat(e))).data;var v=r(9609),x=r(7227),h=r(8889);let p=(0,h.A)("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);var g=r(8262),y=r(7606),b=r(6258),j=r(8284);let N=()=>{let e=(0,y.jE)(),{showToast:t}=(0,j.A)();return(0,b.n)({mutationFn:c,onSuccess:()=>{e.invalidateQueries({queryKey:["deletedVaults"]}),e.invalidateQueries({queryKey:["vaults"]}),t({type:"success",message:"Vault restored successfully!"})},onError:e=>{var r,s;return t({type:"error",message:(null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Error restoring vault"})}})},w=()=>{let e=(0,y.jE)(),{showToast:t}=(0,j.A)();return(0,b.n)({mutationFn:u,onSuccess:()=>{e.invalidateQueries({queryKey:["deletedSecrets"]}),e.invalidateQueries({queryKey:["vaults"]}),t({type:"success",message:"Secret restored successfully!"})},onError:e=>{var r,s;return t({type:"error",message:(null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Error restoring secret"})}})},k=()=>{let e=(0,y.jE)(),{showToast:t}=(0,j.A)();return(0,b.n)({mutationFn:f,onSuccess:()=>{e.invalidateQueries({queryKey:["deletedVaults"]}),t({type:"success",message:"Vault permanently deleted!"})},onError:e=>{var r,s;return t({type:"error",message:(null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Error deleting vault"})}})},A=()=>{let e=(0,y.jE)(),{showToast:t}=(0,j.A)();return(0,b.n)({mutationFn:m,onSuccess:()=>{e.invalidateQueries({queryKey:["deletedSecrets"]}),t({type:"success",message:"Secret permanently deleted!"})},onError:e=>{var r,s;return t({type:"error",message:(null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"Error deleting secret"})}})};var R=r(4411),C=r.n(R);let E=e=>{let{vaults:t,isLoading:r}=e,a=N(),n=k();return r?(0,s.jsx)("div",{className:"text-center py-8",children:"Loading..."}):(null==t?void 0:t.length)?(0,s.jsxs)(v.XI,{children:[(0,s.jsx)(v.A0,{children:(0,s.jsxs)(v.Hj,{children:[(0,s.jsx)(v.nd,{children:"Name"}),(0,s.jsx)(v.nd,{children:"Deleted On"}),(0,s.jsx)(v.nd,{children:"Days Left"}),(0,s.jsx)(v.nd,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(v.BF,{children:t.map(e=>{let t=new Date(e.deletedAt),r=30-Math.floor((Date.now()-t.getTime())/864e5);return(0,s.jsxs)(v.Hj,{children:[(0,s.jsx)(v.nA,{children:e.name}),(0,s.jsx)(v.nA,{children:C()(t).format("MMM dd, yyyy")}),(0,s.jsxs)(v.nA,{children:[r," days"]}),(0,s.jsxs)(v.nA,{className:"text-right space-x-2",children:[(0,s.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>a.mutate(e.id),children:[(0,s.jsx)(p,{className:"h-4 w-4 mr-1"}),"Restore"]}),(0,s.jsxs)(x.$,{variant:"destructive",size:"sm",onClick:()=>n.mutate(e.id),children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},e.id)})})]}):(0,s.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No deleted vaults found"})};var S=r(4148);let M=e=>{let{secrets:t,isLoading:r}=e,a=w(),n=A();return r?(0,s.jsx)("div",{className:"text-center py-8",children:"Loading..."}):(null==t?void 0:t.length)?(0,s.jsxs)(v.XI,{children:[(0,s.jsx)(v.A0,{children:(0,s.jsxs)(v.Hj,{children:[(0,s.jsx)(v.nd,{children:"Key"}),(0,s.jsx)(v.nd,{children:"Vault"}),(0,s.jsx)(v.nd,{children:"Type"}),(0,s.jsx)(v.nd,{children:"Deleted On"}),(0,s.jsx)(v.nd,{children:"Days Left"}),(0,s.jsx)(v.nd,{className:"text-right",children:"Actions"})]})}),(0,s.jsx)(v.BF,{children:t.map(e=>{let t=new Date(e.deletedAt),r=30-Math.floor((Date.now()-t.getTime())/864e5);return(0,s.jsxs)(v.Hj,{children:[(0,s.jsx)(v.nA,{children:e.key||"..."}),(0,s.jsx)(v.nA,{children:e.vault.name}),(0,s.jsx)(v.nA,{children:(0,s.jsx)(S.E,{variant:"secondary",children:e.type||"..."})}),(0,s.jsx)(v.nA,{children:C()(t).format("MMM dd, yyyy")}),(0,s.jsxs)(v.nA,{children:[r," days"]}),(0,s.jsxs)(v.nA,{className:"text-right space-x-2",children:[(0,s.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>a.mutate(e.id),children:[(0,s.jsx)(p,{className:"h-4 w-4 mr-1"}),"Restore"]}),(0,s.jsxs)(x.$,{variant:"destructive",size:"sm",onClick:()=>n.mutate(e.id),children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},e.id)})})]}):(0,s.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No deleted secrets found"})};var _=r(7620),T=r(615),B=r(3928);let F=(0,T.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),L=_.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,B.cn)(F({variant:a}),r),...n})});L.displayName="Alert",_.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,B.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let V=_.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,B.cn)("text-sm [&_p]:leading-relaxed",r),...a})});V.displayName="AlertDescription";let $=(0,h.A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),D=()=>{let{data:e,isLoading:t}=(0,a.I)({queryKey:["deletedVaults"],queryFn:i}),{data:r,isLoading:d}=(0,a.I)({queryKey:["deletedSecrets"],queryFn:o});return(0,s.jsx)("div",{className:"container max-w-6xl mx-auto space-y-6 p-6",children:(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:"Recycle Bin"}),(0,s.jsx)(n.BT,{children:"Manage your deleted vaults and secrets. Items are kept for 30 days before permanent deletion."})]}),(0,s.jsxs)(n.Wu,{children:[(0,s.jsxs)(L,{className:"mb-6",children:[(0,s.jsx)($,{className:"h-4 w-4"}),(0,s.jsx)(V,{children:"Items in the recycle bin will be permanently deleted after 30 days."})]}),(0,s.jsxs)(l.tU,{defaultValue:"vaults",children:[(0,s.jsxs)(l.j7,{className:"grid w-full max-w-[400px] grid-cols-2",children:[(0,s.jsx)(l.Xi,{value:"vaults",children:"Vaults"}),(0,s.jsx)(l.Xi,{value:"secrets",children:"Secrets"})]}),(0,s.jsx)(l.av,{value:"vaults",children:(0,s.jsx)(E,{vaults:e,isLoading:t})}),(0,s.jsx)(l.av,{value:"secrets",children:(0,s.jsx)(M,{secrets:r,isLoading:d})})]})]})]})})}},3084:(e,t,r)=>{"use strict";r.d(t,{S:()=>n});var s=r(9329),a=r(4338);let n=s.A.create({baseURL:a.env.BASE_URL||"http://localhost:5000/api",withCredentials:!0})},3353:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>d,wL:()=>u});var s=r(4568),a=r(7620),n=r(3928);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});l.displayName="Card";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});d.displayName="CardHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...a})});i.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},3568:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var s=r(7620);function a(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>t.current?.(...e),[])}},3928:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2987),a=r(607);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},4148:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var s=r(4568);r(7620);var a=r(615),n=r(3928);let l=(0,a.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},5007:(e,t,r)=>{Promise.resolve().then(r.bind(r,2965))},7227:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>i});var s=r(4568),a=r(7620),n=r(9649),l=r(615),d=r(3928);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,s.jsx)(u,{className:(0,d.cn)(i({variant:a,size:l,className:r})),ref:t,...c})});o.displayName="Button"},7247:(e,t,r)=>{"use strict";r.d(t,{N:()=>a});var s=r(7620),a=globalThis?.document?s.useLayoutEffect:()=>{}},7644:(e,t,r)=>{"use strict";r.d(t,{jH:()=>n});var s=r(7620);r(4568);var a=s.createContext(void 0);function n(e){let t=s.useContext(a);return e||t||"ltr"}},8262:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(8889).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8284:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(138);r(7987);let a=()=>({showToast:e=>{let{type:t,message:r}=e,a={position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0};switch(t){case"success":a={...a,className:"bg-green-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},s.oR.success(r,a);break;case"error":a={...a,className:"bg-red-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},s.oR.error(r,a);break;case"info":a={...a,className:"bg-blue-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},s.oR.info(r,a);break;default:a={...a,className:"bg-gray-500 text-white font-bold p-4 rounded-lg shadow-md transform transition-all duration-500 hover:scale-105"},(0,s.oR)(r,a)}}})},9254:(e,t,r)=>{"use strict";function s(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),!1===r||!s.defaultPrevented)return t?.(s)}}r.d(t,{m:()=>s})},9609:(e,t,r)=>{"use strict";r.d(t,{A0:()=>d,BF:()=>i,Hj:()=>o,XI:()=>l,nA:()=>u,nd:()=>c});var s=r(4568),a=r(7620),n=r(3928);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...a})})});l.displayName="Table";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...a})});d.displayName="TableHeader";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});i.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});o.displayName="TableRow";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a})});c.displayName="TableHead";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...a})});u.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"}},e=>{var t=t=>e(e.s=t);e.O(0,[3038,3249,8745,9329,8903,1416,138,3644,112,587,8315,7358],()=>t(5007)),_N_E=e.O()}]);