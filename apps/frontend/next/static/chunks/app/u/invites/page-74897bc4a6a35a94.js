(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9079],{276:(e,t,a)=>{"use strict";a.d(t,{Af:()=>d,B3:()=>i,Px:()=>r,YT:()=>n,iF:()=>l});var s=a(3084);let l=async()=>{var e;return null==(e=(await s.S.get("/vaults/all")).data)?void 0:e.vaults},r=async e=>{var t;return null==(t=(await s.S.get("/vaults/".concat(e))).data)?void 0:t.vault},i=async e=>(await s.S.post("/vaults/create",e)).data,n=async e=>{let{vaultId:t,data:a}=e;return(await s.S.put("/vaults/".concat(t),a)).data},d=async e=>{try{var t;return null==(t=(await s.S.get("/vaults/".concat(e,"/vault-key"))).data)?void 0:t.vaultKey}catch(e){return null}}},603:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>n});var s=a(4568),l=a(7620),r=a(112),i=a(3928);let n=r.bL,d=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.B8,{ref:t,className:(0,i.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...l})});d.displayName=r.B8.displayName;let c=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...l})});c.displayName=r.l9.displayName;let o=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});o.displayName=r.UC.displayName},1025:(e,t,a)=>{"use strict";a.d(t,{Gy:()=>n,Vn:()=>d,pE:()=>c,si:()=>i});var s=a(1416),l=a(5753),r=a(276);let i=(e,t)=>{let{data:a,isLoading:r,error:i,refetch:n}=(0,s.I)({queryKey:["invites",e,t],queryFn:()=>(0,l.Bf)(e,t)});return{data:a,isLoading:r,error:i,refetch:n}},n=()=>{let{data:e,isLoading:t,error:a,refetch:r}=(0,s.I)({queryKey:["shared-vaults"],queryFn:l.B_});return{data:e,isLoading:t,error:a,refetch:r}},d=e=>(0,s.I)({queryKey:["vault-collaborators",e],queryFn:()=>(0,l.it)(e),enabled:!!e}),c=e=>(0,s.I)({queryKey:["vault-key",e],queryFn:()=>(0,r.Af)(e),enabled:!!e})},3066:(e,t,a)=>{Promise.resolve().then(a.bind(a,9980))},4675:(e,t,a)=>{"use strict";a.d(t,{bq:()=>u,eb:()=>p,gC:()=>h,l6:()=>o,yv:()=>m});var s=a(4568),l=a(7620),r=a(5284),i=a(4711),n=a(6430),d=a(4931),c=a(3928);let o=r.bL;r.YJ;let m=r.WT,u=l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(r.l9,{ref:t,className:(0,c.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[l,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.l9.displayName;let x=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});x.displayName=r.PP.displayName;let f=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=r.wn.displayName;let h=l.forwardRef((e,t)=>{let{className:a,children:l,position:i="popper",...n}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,s.jsx)(x,{}),(0,s.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,s.jsx)(f,{})]})})});h.displayName=r.UC.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",a),...l})}).displayName=r.JU.displayName;let p=l.forwardRef((e,t)=>{let{className:a,children:l,...i}=e;return(0,s.jsxs)(r.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:l})]})});p.displayName=r.q7.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=r.wv.displayName},9369:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8889).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9980:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(4568),l=a(7620),r=a(1025),i=a(8043),n=a(7227),d=a(3353),c=a(4148),o=a(8825),m=a(9877),u=a(8262),x=a(1356),f=a(603),h=a(4675),p=a(9369);let v=()=>(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[200px]",children:(0,s.jsx)(p.A,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),g=e=>{let{invites:t,onAccept:a,onReject:l,showActions:r=!1,activeTab:i}=e;return(0,s.jsx)("div",{className:"space-y-4",children:0===t.length?(0,s.jsx)(d.Zp,{children:(0,s.jsxs)(d.Wu,{className:"pt-6 flex flex-col items-center justify-center min-h-[200px] text-center",children:[(0,s.jsx)("div",{className:"mb-4 p-3 rounded-full bg-primary/10",children:(0,s.jsx)(o.A,{className:"h-6 w-6 text-primary"})}),(0,s.jsx)("h3",{className:"text-xl font-medium mb-2",children:"No Invites Found"}),(0,s.jsx)("p",{className:"text-muted-foreground max-w-md",children:"There are no invites matching your current filter criteria"})]})}):(0,s.jsx)(d.Zp,{children:(0,s.jsx)(d.Wu,{children:(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsxs)("table",{className:"w-full caption-bottom text-sm",children:[(0,s.jsx)("thead",{className:"[&_tr]:border-b",children:(0,s.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",children:["received"===i&&(0,s.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"From"}),"sent"===i&&(0,s.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"To"}),(0,s.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Vault"}),(0,s.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Permissions"}),(0,s.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Date"}),(0,s.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Status"}),r&&(0,s.jsx)("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"[&_tr:last-child]:border-0",children:t.map(e=>(0,s.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50",children:["received"===i&&(0,s.jsx)("td",{className:"p-4 align-middle",children:e.inviter.name||e.inviter.email}),"sent"===i&&(0,s.jsx)("td",{className:"p-4 align-middle",children:e.inviteeEmail}),(0,s.jsx)("td",{className:"p-4 align-middle font-medium",children:e.vault.name}),(0,s.jsx)("td",{className:"p-4 align-middle",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[e.canView&&(0,s.jsxs)(c.E,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20",children:[(0,s.jsx)(o.A,{className:"h-3 w-3 mr-1"})," View"]}),e.canEdit&&(0,s.jsxs)(c.E,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/20",children:[(0,s.jsx)(m.A,{className:"h-3 w-3 mr-1"})," Edit"]}),e.canDelete&&(0,s.jsxs)(c.E,{variant:"outline",className:"bg-red-500/10 text-red-500 border-red-500/20",children:[(0,s.jsx)(u.A,{className:"h-3 w-3 mr-1"})," Delete"]})]})}),(0,s.jsx)("td",{className:"p-4 align-middle",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{className:"p-4 align-middle",children:(0,s.jsx)(c.E,{variant:"outline",className:"ACCEPTED"===e.status?"bg-green-500/10 text-green-500 border-green-500/20":"REJECTED"===e.status?"bg-red-500/10 text-red-500 border-red-500/20":"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:e.status})}),r&&"PENDING"===e.status&&(0,s.jsx)("td",{className:"p-4 align-middle",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(n.$,{onClick:()=>null==a?void 0:a(e.id),variant:"outline",size:"sm",className:"flex items-center gap-1 border-green-500/20 hover:bg-green-500/10 bg-green-500/10 text-green-500",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),"Accept"]}),(0,s.jsxs)(n.$,{onClick:()=>null==l?void 0:l(e.id),variant:"outline",size:"sm",className:"flex items-center gap-1 border-red-500/20 hover:bg-red-500/10 bg-red-500/10 text-red-500",children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),"Reject"]})]})})]},e.id))})]})})})})})},j=()=>{let[e,t]=(0,l.useState)("received"),[a,n]=(0,l.useState)("ALL"),{data:d,isLoading:c}=(0,r.si)(e,a),{mutate:o}=(0,i.R_)(),{mutate:m}=(0,i.kM)(),u=e=>{o(e)},x=e=>{m(e)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Vault Invitations"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage your vault collaboration invites"})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(h.l6,{value:a,onValueChange:n,children:[(0,s.jsx)(h.bq,{className:"w-[180px]",children:(0,s.jsx)(h.yv,{placeholder:"Filter by status"})}),(0,s.jsxs)(h.gC,{children:[(0,s.jsx)(h.eb,{value:"ALL",children:"All Invites"}),(0,s.jsx)(h.eb,{value:"PENDING",children:"Pending"}),(0,s.jsx)(h.eb,{value:"ACCEPTED",children:"Accepted"}),(0,s.jsx)(h.eb,{value:"REJECTED",children:"Rejected"})]})]})}),(0,s.jsxs)(f.tU,{value:e,onValueChange:t,className:"w-full",children:[(0,s.jsxs)(f.j7,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(f.Xi,{value:"received",children:"Received Invites"}),(0,s.jsx)(f.Xi,{value:"sent",children:"Sent Invites"})]}),(0,s.jsx)(f.av,{value:"received",children:c?(0,s.jsx)(v,{}):(0,s.jsx)(g,{activeTab:e,invites:d||[],onAccept:u,onReject:x,showActions:!0})}),(0,s.jsx)(f.av,{value:"sent",children:c?(0,s.jsx)(v,{}):(0,s.jsx)(g,{activeTab:e,invites:d||[],onAccept:u,onReject:x,showActions:!0})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3038,8745,9329,8903,1416,138,3644,7356,257,112,9990,587,8315,7358],()=>t(3066)),_N_E=e.O()}]);