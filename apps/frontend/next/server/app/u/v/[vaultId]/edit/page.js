(()=>{var e={};e.id=394,e.ids=[394],e.modules={1241:()=>{},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5713:(e,t,r)=>{Promise.resolve().then(r.bind(r,60880))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10856:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(24332),a=r(48819),o=r(67851),i=r.n(o),n=r(97540),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d={children:["",{children:["u",{children:["v",{children:["[vaultId]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,60880)),"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/[vaultId]/edit/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,39486)),"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/[vaultId]/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,71044)),"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,90205)),"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,20685)),"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/[vaultId]/edit/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/u/v/[vaultId]/edit/page",pathname:"/u/v/[vaultId]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},11440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(13486),a=r(60159),o=r(32131),i=r(2984);let n=({children:e})=>{let t=(0,o.A)(),{vaultId:r}=(0,i.useParams)();return(0,a.useEffect)(()=>{t.emit("join-vault",r)},[r,t]),(0,s.jsx)(s.Fragment,{children:e})}},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22936:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,_:()=>n});var s=r(72055),a=r(24096),o=r(68121);let i=()=>(0,s.I)({queryKey:[o.e.VAULTS],queryFn:a.iF}),n=e=>(0,s.I)({queryKey:o.e.VAULT(e),queryFn:()=>(0,a.Px)(e),enabled:!!e})},23890:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(13486),a=r(74941),o=r(60159),i=r(2984),n=r(15998),l=r(3805),d=r(32131);let c=({children:e})=>{let t=(0,i.usePathname)(),r=(0,d.A)(),c=(0,i.useRouter)(),{user:u}=(0,l.h)(),p="vaults"===t.split("/").pop()||"shared-with-me"===t.split("/").pop();return(0,o.useEffect)(()=>{r.emit("authenticate",u?.id)},[u,r]),(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 text-muted-foreground",children:!p&&(0,s.jsxs)(a.$,{variant:"ghost",size:"sm",className:"gap-1",onClick:()=>c.back(),children:[(0,s.jsx)(n.A,{className:"h-4 w-4"})," Back to Vaults"]})}),e]})}},24096:(e,t,r)=>{"use strict";r.d(t,{Af:()=>l,B3:()=>i,Px:()=>o,YT:()=>n,iF:()=>a});var s=r(86218);let a=async()=>{let e=await s.S.get("/vaults/all");return e.data?.vaults},o=async e=>{let t=await s.S.get(`/vaults/${e}`);return t.data?.vault},i=async e=>(await s.S.post("/vaults/create",e)).data,n=async({vaultId:e,data:t})=>(await s.S.put(`/vaults/${e}`,t)).data,l=async e=>{try{let t=await s.S.get(`/vaults/${e}/vault-key`);return t.data?.vaultKey}catch(e){return null}}},27002:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(13486),a=r(85626),o=r(85519),i=r(98509),n=r(2984),l=r(92087),d=r(74941),c=r(23025),u=r(63627),p=r(29563),m=r(15577),x=r(68830),h=r(22936),f=r(91644),v=r(98788),j=r(60159),y=r(71441);let b=i.Ik({name:i.Yj().min(2,{message:"Name must be at least 2 characters."}),description:i.Yj().optional(),icon:i.Yj().max(10,{message:"Icon should be a single emoji or short text"}).optional()}),g=[{emoji:"\uD83D\uDD12",label:"Lock"},{emoji:"\uD83D\uDD11",label:"Key"},{emoji:"\uD83D\uDCDD",label:"Note"},{emoji:"\uD83D\uDCB3",label:"Card"},{emoji:"\uD83D\uDCC2",label:"Folder"},{emoji:"\uD83D\uDE80",label:"Rocket"},{emoji:"\uD83C\uDF10",label:"Globe"},{emoji:"\uD83D\uDCBB",label:"Laptop"},{emoji:"\uD83D\uDD10",label:"Locked"},{emoji:"⚙️",label:"Settings"},{emoji:"\uD83D\uDD27",label:"Tool"},{emoji:"\uD83D\uDEE0️",label:"Tools"},{emoji:"\uD83E\uDDF0",label:"Toolbox"},{emoji:"\uD83D\uDDC4️",label:"Cabinet"},{emoji:"\uD83D\uDCCA",label:"Chart"},{emoji:"\uD83D\uDCC8",label:"Graph"},{emoji:"\uD83C\uDFE2",label:"Building"},{emoji:"\uD83C\uDF1F",label:"Star"},{emoji:"\uD83D\uDCA1",label:"Idea"},{emoji:"\uD83D\uDD0C",label:"Plugin"}],N=()=>{let{vaultId:e}=(0,n.useParams)(),t=(0,n.useRouter)(),{data:r,isLoading:i,error:N}=(0,h._)(e||""),w=(0,f.OQ)(),k=(0,a.mN)({resolver:(0,o.u)(b),defaultValues:{name:"",description:"",icon:""}});(0,j.useEffect)(()=>{r&&k.reset({name:r.name,description:r.description||"",icon:r.icon||""})},[r,k]);let C=async r=>{if(e)try{await w.mutateAsync({vaultId:e,data:r}),t.push(`${y.vc.VAULTS}/${e}`)}catch(e){console.error("Failed to update vault:",e)}},P=e=>{k.setValue("icon",e)};return i?(0,s.jsxs)("div",{className:"flex items-center justify-center h-[70vh]",children:[(0,s.jsx)(m.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("span",{className:"ml-2 text-lg",children:"Loading vault..."})]}):N||!r?(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-destructive",children:"Error Loading Vault"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:N instanceof Error?N.message:"Could not find the requested vault"}),(0,s.jsx)(d.$,{onClick:()=>t.push(y.vc.VAULTS),className:"mt-4",children:"Back to Vaults"})]}):(0,s.jsxs)("div",{className:"max-w-3xl mx-auto animate-fade-in",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Vault"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Update your vault details and preferences."})]}),(0,s.jsx)(v.w,{}),(0,s.jsxs)(p.Zp,{children:[(0,s.jsxs)(p.aR,{children:[(0,s.jsx)(p.ZB,{children:"Vault Information"}),(0,s.jsx)(p.BT,{children:"Change how your vault appears and is organized."})]}),(0,s.jsx)(p.Wu,{children:(0,s.jsx)(l.lV,{...k,children:(0,s.jsxs)("form",{onSubmit:k.handleSubmit(C),className:"space-y-6",children:[(0,s.jsx)(l.zB,{control:k.control,name:"name",render:({field:e})=>(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Vault Name"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(c.p,{placeholder:"My Secure Vault",...e})}),(0,s.jsx)(l.Rr,{children:"A descriptive name for your vault."}),(0,s.jsx)(l.C5,{})]})}),(0,s.jsx)(l.zB,{control:k.control,name:"description",render:({field:e})=>(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Description"}),(0,s.jsx)(l.MJ,{children:(0,s.jsx)(u.T,{placeholder:"Store important secrets for this project...",className:"resize-none",...e})}),(0,s.jsx)(l.Rr,{children:"Optional details about what this vault is used for."}),(0,s.jsx)(l.C5,{})]})}),(0,s.jsx)(l.zB,{control:k.control,name:"icon",render:({field:e})=>(0,s.jsxs)(l.eI,{children:[(0,s.jsx)(l.lR,{children:"Icon"}),(0,s.jsx)(l.MJ,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-muted rounded-md flex items-center justify-center w-10 h-10 text-2xl",children:e.value||"\uD83D\uDCC2"}),(0,s.jsx)(c.p,{placeholder:"\uD83D\uDCC2",...e,className:"w-20",maxLength:4})]})}),(0,s.jsx)(l.Rr,{children:"Choose an emoji that represents your vault."}),(0,s.jsx)("div",{className:"mt-2 grid grid-cols-10 gap-2",children:g.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>P(e.emoji),className:"w-8 h-8 flex items-center justify-center text-xl rounded hover:bg-secondary cursor-pointer",title:e.label,children:e.emoji},e.emoji))}),(0,s.jsx)(l.C5,{})]})}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,s.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>t.push(`${y.vc.VAULTS}/${e}`),children:"Cancel"}),(0,s.jsx)(d.$,{type:"submit",disabled:w.isPending,className:"gap-2",children:w.isPending?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})})]})]})}},27661:(e,t,r)=>{Promise.resolve().then(r.bind(r,23890))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29563:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>n,wL:()=>u});var s=r(13486),a=r(60159),o=r(26518);let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));i.displayName="Card";let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},29869:(e,t,r)=>{Promise.resolve().then(r.bind(r,71044))},32131:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(60159);let a=(0,r(48234).io)("ws://localhost:8000",{transports:["websocket"],withCredentials:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),o={socket:a,connect:()=>{a.connect()}},i=null,n=()=>{let e=(0,s.useRef)(null);return i||(o.connect(),i=o.socket),e.current=i,(0,s.useEffect)(()=>(i?.connected||o.connect(),()=>{}),[]),e.current}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},39486:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/[vaultId]/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/[vaultId]/layout.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},60880:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/[vaultId]/edit/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/[vaultId]/edit/page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63627:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var s=r(13486),a=r(60159),o=r(26518);let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("textarea",{className:(0,o.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));i.displayName="Textarea"},68830:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(84667).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},71044:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/u/v/layout.tsx","default")},72088:()=>{},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},87025:(e,t,r)=>{Promise.resolve().then(r.bind(r,11440))},91644:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>u,lP:()=>c});var s=r(84364),a=r(32513),o=r(24096),i=r(68121),n=r(2984),l=r(91446),d=r(71441);let c=()=>{let e=(0,s.jE)(),t=(0,n.useRouter)(),{showToast:r}=(0,l.A)();return(0,a.n)({mutationFn:o.B3,onSuccess:()=>{e.invalidateQueries({queryKey:[i.e.VAULTS]}),r({type:"success",message:"Vault created successfully! ✨"}),t.push(d.vc.VAULTS)},onError:e=>r({type:"error",message:e.response?.data?.message||"Error"})})},u=()=>{let e=(0,s.jE)(),{showToast:t}=(0,l.A)();return(0,a.n)({mutationFn:o.YT,onSuccess:(r,{vaultId:s})=>{e.invalidateQueries({queryKey:[i.e.VAULTS]}),e.invalidateQueries({queryKey:i.e.VAULT(s)}),t({type:"success",message:"Vault updated!"})}})}},91645:e=>{"use strict";e.exports=require("net")},92087:(e,t,r)=>{"use strict";r.d(t,{C5:()=>j,MJ:()=>f,Rr:()=>v,eI:()=>x,lR:()=>h,lV:()=>d,zB:()=>u});var s=r(13486),a=r(60159),o=r(90691),i=r(85626),n=r(26518),l=r(41571);let d=i.Op,c=a.createContext({}),u=({...e})=>(0,s.jsx)(c.Provider,{value:{name:e.name},children:(0,s.jsx)(i.xI,{...e})}),p=()=>{let e=a.useContext(c),t=a.useContext(m),{getFieldState:r,formState:s}=(0,i.xW)(),o=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...o}},m=a.createContext({}),x=a.forwardRef(({className:e,...t},r)=>{let o=a.useId();return(0,s.jsx)(m.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:r,className:(0,n.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let h=a.forwardRef(({className:e,...t},r)=>{let{error:a,formItemId:o}=p();return(0,s.jsx)(l.J,{ref:r,className:(0,n.cn)(a&&"text-destructive",e),htmlFor:o,...t})});h.displayName="FormLabel";let f=a.forwardRef(({...e},t)=>{let{error:r,formItemId:a,formDescriptionId:i,formMessageId:n}=p();return(0,s.jsx)(o.DX,{ref:t,id:a,"aria-describedby":r?`${i} ${n}`:`${i}`,"aria-invalid":!!r,...e})});f.displayName="FormControl";let v=a.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:a}=p();return(0,s.jsx)("p",{ref:r,id:a,className:(0,n.cn)("text-[0.8rem] text-muted-foreground",e),...t})});v.displayName="FormDescription";let j=a.forwardRef(({className:e,children:t,...r},a)=>{let{error:o,formMessageId:i}=p(),l=o?String(o?.message??""):t;return l?(0,s.jsx)("p",{ref:a,id:i,className:(0,n.cn)("text-[0.8rem] font-medium text-destructive",e),...r,children:l}):null});j.displayName="FormMessage"},94735:e=>{"use strict";e.exports=require("events")},95985:(e,t,r)=>{Promise.resolve().then(r.bind(r,27002))},96753:(e,t,r)=>{Promise.resolve().then(r.bind(r,39486))},98788:(e,t,r)=>{"use strict";r.d(t,{w:()=>c});var s=r(13486),a=r(60159),o=r(94108),i="horizontal",n=["horizontal","vertical"],l=a.forwardRef((e,t)=>{var r;let{decorative:a,orientation:l=i,...d}=e,c=(r=l,n.includes(r))?l:i;return(0,s.jsx)(o.sG.div,{"data-orientation":c,...a?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:t})});l.displayName="Separator";var d=r(26518);let c=a.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},o)=>(0,s.jsx)(l,{ref:o,decorative:r,orientation:t,className:(0,d.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));c.displayName=l.displayName}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[191,59,401,214,160,221,989,327,289,721],()=>r(10856));module.exports=s})();