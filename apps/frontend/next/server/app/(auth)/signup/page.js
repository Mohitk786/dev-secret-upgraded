(()=>{var e={};e.id=271,e.ids=[271],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13885:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(13486),i=r(60159),a=r(46517);let n=({title:e,description:t,children:r})=>(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:(0,s.jsxs)("div",{className:"h-screen bg-gradient-to-br from-pink-100 to-purple-500 flex flex-col justify-center sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,s.jsx)("div",{className:"flex justify-center text-black",children:(0,s.jsx)(a.A,{})}),(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:t})]}),(0,s.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsx)("div",{className:"bg-white py-8 px-4 shadow-xl rounded-2xl sm:px-10",children:r})})]})})},15577:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(84667).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},16922:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(24332),i=r(48819),a=r(67851),n=r.n(a),o=r(97540),u={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>o[e]);r.d(t,u);let l={children:["",{children:["(auth)",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,81119)),"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/(auth)/signup/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,20685)),"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/(auth)/signup/page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(auth)/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23982:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(84667).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},27910:e=>{"use strict";e.exports=require("stream")},28221:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(84667).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30760:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(84667).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},32513:(e,t,r)=>{"use strict";r.d(t,{n:()=>d});var s=r(60159),i=r(1647),a=r(59830),n=r(31605),o=r(31755),u=class extends n.Q{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.EN)(t.mutationKey)!==(0,o.EN)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){let e=this.#r?.state??(0,i.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.jG.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},l=r(84364),c=r(49343);function d(e,t){let r=(0,l.jE)(t),[i]=s.useState(()=>new u(r,e));s.useEffect(()=>{i.setOptions(e)},[i,e]);let n=s.useSyncExternalStore(s.useCallback(e=>i.subscribe(a.jG.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=s.useCallback((e,t)=>{i.mutate(e,t).catch(c.l)},[i]);if(n.error&&(0,c.G)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:o,mutateAsync:n.mutate}}},33873:e=>{"use strict";e.exports=require("path")},42726:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(84667).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},47438:(e,t,r)=>{Promise.resolve().then(r.bind(r,87533))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61093:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(13486),i=r(60159),a=r(23025),n=r(74941),o=r(42726),u=r(23982);let l=({id:e,label:t,type:r,value:l,onChange:c,icon:d,placeholder:p,required:h=!1})=>{let[m,x]=(0,i.useState)(!1);return(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700",children:t}),(0,s.jsxs)("div",{className:"mt-1 relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:d}),(0,s.jsx)(a.p,{id:e,type:"password"===r?m?"text":"password":r,required:h,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 text-gray-900",placeholder:p,value:l,onChange:c}),"password"===r&&(0,s.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>x(!m),className:"absolute right-0 top-0 h-full px-2 hover:bg-transparent",children:m?(0,s.jsx)(o.A,{className:"w-4 h-4 text-gray-500"}):(0,s.jsx)(u.A,{className:"w-4 h-4 text-gray-500"})})]})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68173:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(13486);r(60159);var i=r(15577),a=r(28221);let n=({isPending:e,text:t,onClick:r})=>(0,s.jsxs)("button",{disabled:e,onClick:r,type:"submit",className:`w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${e?"opacity-50 cursor-not-allowed":""}`,children:[e?(0,s.jsx)(i.A,{className:"w-5 h-5 mr-2 animate-spin"}):(0,s.jsx)(a.A,{className:"w-5 h-5 mr-2"}),t]})},73455:(e,t,r)=>{"use strict";r.d(t,{_:()=>u,r:()=>l});var s=r(36352),i=r(32513),a=r(2984),n=r(91446),o=r(71441);let u=()=>{let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),{showToast:r}=(0,n.A)(),o=t.get("redirectTo")||"/u/dashboard";return(0,i.n)({mutationFn:s.iD,onSuccess:t=>{localStorage.setItem("DEV_SECRET_VAULT_AUTH_TOKEN",t?.data?.token),localStorage.setItem("PUBLIC_KEY",t?.data?.user?.publicKey),e.push(o)},onError:e=>{r({type:"error",message:e?.response?.data?.message})}})},l=()=>{let e=(0,a.useRouter)(),{showToast:t}=(0,n.A)();return(0,i.n)({mutationFn:s.$5,onSuccess:()=>{t({type:"success",message:"Private key saved to your device. Please keep it safe. You will need it in future to login to your account otherwise you will not be able to access your account."}),e.push(o.vc.LOGIN)},onError:e=>{t({type:"error",message:e?.response?.data?.message})}})}},74075:e=>{"use strict";e.exports=require("zlib")},77702:(e,t,r)=>{Promise.resolve().then(r.bind(r,81119))},78067:(e,t,r)=>{"use strict";r.d(t,{Tn:()=>i,Tu:()=>a,Zd:()=>s,lG:()=>n});let s=async()=>{let e=await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),t=await crypto.subtle.exportKey("spki",e.publicKey),r=await crypto.subtle.exportKey("pkcs8",e.privateKey),s=btoa(String.fromCharCode(...new Uint8Array(t))),i=btoa(String.fromCharCode(...new Uint8Array(r)));localStorage.setItem("PRIVATE_KEY",i);let a=new Blob([i],{type:"text/plain"}),n=document.createElement("a");return n.href=URL.createObjectURL(a),n.download="vault-private-key.txt",document.body.appendChild(n),n.click(),document.body.removeChild(n),s},i=()=>localStorage.getItem("PRIVATE_KEY"),a=async e=>{try{let t=e.replace("-----BEGIN PRIVATE KEY-----","").replace("-----END PRIVATE KEY-----","").replace(/\s/g,""),r=Uint8Array.from(atob(t),e=>e.charCodeAt(0));return await window.crypto.subtle.importKey("pkcs8",r.buffer,{name:"RSA-OAEP",hash:"SHA-256"},!1,["decrypt"]),!0}catch(e){return console.error("Invalid private key:",e),!1}},n=()=>{let e=localStorage.getItem("PUBLIC_KEY");if(!e)throw Error("Public key not found");return e}},79551:e=>{"use strict";e.exports=require("url")},81119:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/(auth)/signup/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/mohit/Desktop/startup/dev-secret-keepr/apps/frontend/src/app/(auth)/signup/page.tsx","default")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},87533:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(13486),i=r(60159),a=r(28221),n=r(21800),o=r(30760),u=r(49989),l=r.n(u),c=r(73455),d=r(78067),p=r(61093),h=r(68173),m=r(13885),x=r(91446);let y=()=>{let[e,t]=(0,i.useState)(""),[r,u]=(0,i.useState)(""),[y,f]=(0,i.useState)(""),[v,g]=(0,i.useState)(""),{mutate:b,isPending:w}=(0,c.r)(),{showToast:A}=(0,x.A)(),k=async t=>{if(t.preventDefault(),r!==y)return void A({type:"error",message:"Passwords did  not match"});b({email:e,password:r,publicKey:await (0,d.Zd)(),name:v})};return(0,s.jsxs)(m.A,{title:"Create your KeyVault account",description:"Start securing your development secrets today \uD83D\uDE80",children:[(0,s.jsxs)("form",{className:"space-y-5",onSubmit:k,children:[(0,s.jsx)(p.A,{id:"name",label:"Full Name",type:"text",value:v,onChange:e=>g(e.target.value),icon:(0,s.jsx)(a.A,{}),placeholder:"John Doe",required:!0}),(0,s.jsx)(p.A,{id:"email",label:"Email address",type:"email",value:e,onChange:e=>t(e.target.value),icon:(0,s.jsx)(n.A,{}),placeholder:"you@domain.com",required:!0}),(0,s.jsx)(p.A,{id:"password",label:"Password",type:"password",value:r,onChange:e=>u(e.target.value),icon:(0,s.jsx)(o.A,{}),placeholder:"••••••••",required:!0}),(0,s.jsx)(p.A,{id:"confirmPassword",label:"Confirm Password",type:"password",value:y,onChange:e=>f(e.target.value),icon:(0,s.jsx)(o.A,{}),placeholder:"••••••••",required:!0}),(0,s.jsx)(h.A,{isPending:w,text:w?"Signing up...":"Create account",onClick:k})]}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,s.jsx)(l(),{href:"/login",className:"font-medium text-primary hover:underline",children:"Sign in"})]})]})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[191,59,401,214,289],()=>r(16922));module.exports=s})();